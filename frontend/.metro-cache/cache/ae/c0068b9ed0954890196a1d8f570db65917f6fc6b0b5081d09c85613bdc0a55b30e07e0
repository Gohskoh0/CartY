{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":38,"index":198}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/context/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        if (storedToken) {\n          setToken(storedToken);\n          _servicesApi.api.setToken(storedToken);\n          const userData = await _servicesApi.api.getMe();\n          setUser(userData);\n        }\n      } catch (error) {\n        console.log('Auth load error:', error);\n        await AsyncStorage.default.removeItem('token');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (phone, password) => {\n      const response = await _servicesApi.api.login(phone, password);\n      await AsyncStorage.default.setItem('token', response.token);\n      setToken(response.token);\n      _servicesApi.api.setToken(response.token);\n      const userData = await _servicesApi.api.getMe();\n      setUser(userData);\n    };\n    const register = async (phone, password) => {\n      const response = await _servicesApi.api.register(phone, password);\n      await AsyncStorage.default.setItem('token', response.token);\n      setToken(response.token);\n      _servicesApi.api.setToken(response.token);\n      const userData = await _servicesApi.api.getMe();\n      setUser(userData);\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('token');\n      setToken(null);\n      setUser(null);\n      _servicesApi.api.setToken(null);\n    };\n    const refreshUser = async () => {\n      if (token) {\n        const userData = await _servicesApi.api.getMe();\n        setUser(userData);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        isLoading,\n        login,\n        register,\n        logout,\n        refreshUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }, this);\n  }\n  function useAuth() {\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n});","lineCount":98,"map":[[13,2,25,0,"exports"],[13,9,25,0],[13,10,25,0,"AuthProvider"],[13,22,25,0],[13,25,25,0,"AuthProvider"],[13,37,25,0],[14,2,90,0,"exports"],[14,9,90,0],[14,10,90,0,"useAuth"],[14,17,90,0],[14,20,90,0,"useAuth"],[14,27,90,0],[15,2,1,0],[15,6,1,0,"_react"],[15,12,1,0],[15,15,1,0,"require"],[15,22,1,0],[15,23,1,0,"_dependencyMap"],[15,37,1,0],[16,2,2,0],[16,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[16,42,2,0],[16,45,2,0,"require"],[16,52,2,0],[16,53,2,0,"_dependencyMap"],[16,67,2,0],[17,2,2,0],[17,6,2,0,"AsyncStorage"],[17,18,2,0],[17,21,2,0,"_interopDefault"],[17,36,2,0],[17,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[17,73,2,0],[18,2,3,0],[18,6,3,0,"_servicesApi"],[18,18,3,0],[18,21,3,0,"require"],[18,28,3,0],[18,29,3,0,"_dependencyMap"],[18,43,3,0],[19,2,3,38],[19,6,3,38,"_reactJsxDevRuntime"],[19,25,3,38],[19,28,3,38,"require"],[19,35,3,38],[19,36,3,38,"_dependencyMap"],[19,50,3,38],[20,2,23,0],[20,8,23,6,"AuthContext"],[20,19,23,17],[20,35,23,20],[20,39,23,20,"createContext"],[20,45,23,33],[20,46,23,33,"createContext"],[20,59,23,33],[20,61,23,63,"undefined"],[20,70,23,72],[20,71,23,73],[21,2,25,7],[21,11,25,16,"AuthProvider"],[21,23,25,28,"AuthProvider"],[21,24,25,29],[22,4,25,31,"children"],[23,2,25,65],[23,3,25,66],[23,5,25,68],[24,4,26,2],[24,10,26,8],[24,11,26,9,"user"],[24,15,26,13],[24,17,26,15,"setUser"],[24,24,26,22],[24,25,26,23],[24,28,26,26],[24,32,26,26,"useState"],[24,38,26,34],[24,39,26,34,"useState"],[24,47,26,34],[24,49,26,48],[24,53,26,52],[24,54,26,53],[25,4,27,2],[25,10,27,8],[25,11,27,9,"token"],[25,16,27,14],[25,18,27,16,"setToken"],[25,26,27,24],[25,27,27,25],[25,30,27,28],[25,34,27,28,"useState"],[25,40,27,36],[25,41,27,36,"useState"],[25,49,27,36],[25,51,27,52],[25,55,27,56],[25,56,27,57],[26,4,28,2],[26,10,28,8],[26,11,28,9,"isLoading"],[26,20,28,18],[26,22,28,20,"setIsLoading"],[26,34,28,32],[26,35,28,33],[26,38,28,36],[26,42,28,36,"useState"],[26,48,28,44],[26,49,28,44,"useState"],[26,57,28,44],[26,59,28,45],[26,63,28,49],[26,64,28,50],[27,4,30,2],[27,8,30,2,"useEffect"],[27,14,30,11],[27,15,30,11,"useEffect"],[27,24,30,11],[27,26,30,12],[27,32,30,18],[28,6,31,4,"loadStoredAuth"],[28,20,31,18],[28,21,31,19],[28,22,31,20],[29,4,32,2],[29,5,32,3],[29,7,32,5],[29,9,32,7],[29,10,32,8],[30,4,34,2],[30,10,34,8,"loadStoredAuth"],[30,24,34,22],[30,27,34,25],[30,33,34,25,"loadStoredAuth"],[30,34,34,25],[30,39,34,37],[31,6,35,4],[31,10,35,8],[32,8,36,6],[32,14,36,12,"storedToken"],[32,25,36,23],[32,28,36,26],[32,34,36,32,"AsyncStorage"],[32,46,36,44],[32,47,36,44,"default"],[32,54,36,44],[32,55,36,45,"getItem"],[32,62,36,52],[32,63,36,53],[32,70,36,60],[32,71,36,61],[33,8,37,6],[33,12,37,10,"storedToken"],[33,23,37,21],[33,25,37,23],[34,10,38,8,"setToken"],[34,18,38,16],[34,19,38,17,"storedToken"],[34,30,38,28],[34,31,38,29],[35,10,39,8,"api"],[35,22,39,11],[35,23,39,11,"api"],[35,26,39,11],[35,27,39,12,"setToken"],[35,35,39,20],[35,36,39,21,"storedToken"],[35,47,39,32],[35,48,39,33],[36,10,40,8],[36,16,40,14,"userData"],[36,24,40,22],[36,27,40,25],[36,33,40,31,"api"],[36,45,40,34],[36,46,40,34,"api"],[36,49,40,34],[36,50,40,35,"getMe"],[36,55,40,40],[36,56,40,41],[36,57,40,42],[37,10,41,8,"setUser"],[37,17,41,15],[37,18,41,16,"userData"],[37,26,41,24],[37,27,41,25],[38,8,42,6],[39,6,43,4],[39,7,43,5],[39,8,43,6],[39,15,43,13,"error"],[39,20,43,18],[39,22,43,20],[40,8,44,6,"console"],[40,15,44,13],[40,16,44,14,"log"],[40,19,44,17],[40,20,44,18],[40,38,44,36],[40,40,44,38,"error"],[40,45,44,43],[40,46,44,44],[41,8,45,6],[41,14,45,12,"AsyncStorage"],[41,26,45,24],[41,27,45,24,"default"],[41,34,45,24],[41,35,45,25,"removeItem"],[41,45,45,35],[41,46,45,36],[41,53,45,43],[41,54,45,44],[42,6,46,4],[42,7,46,5],[42,16,46,14],[43,8,47,6,"setIsLoading"],[43,20,47,18],[43,21,47,19],[43,26,47,24],[43,27,47,25],[44,6,48,4],[45,4,49,2],[45,5,49,3],[46,4,51,2],[46,10,51,8,"login"],[46,15,51,13],[46,18,51,16],[46,24,51,16,"login"],[46,25,51,23,"phone"],[46,30,51,36],[46,32,51,38,"password"],[46,40,51,54],[46,45,51,59],[47,6,52,4],[47,12,52,10,"response"],[47,20,52,18],[47,23,52,21],[47,29,52,27,"api"],[47,41,52,30],[47,42,52,30,"api"],[47,45,52,30],[47,46,52,31,"login"],[47,51,52,36],[47,52,52,37,"phone"],[47,57,52,42],[47,59,52,44,"password"],[47,67,52,52],[47,68,52,53],[48,6,53,4],[48,12,53,10,"AsyncStorage"],[48,24,53,22],[48,25,53,22,"default"],[48,32,53,22],[48,33,53,23,"setItem"],[48,40,53,30],[48,41,53,31],[48,48,53,38],[48,50,53,40,"response"],[48,58,53,48],[48,59,53,49,"token"],[48,64,53,54],[48,65,53,55],[49,6,54,4,"setToken"],[49,14,54,12],[49,15,54,13,"response"],[49,23,54,21],[49,24,54,22,"token"],[49,29,54,27],[49,30,54,28],[50,6,55,4,"api"],[50,18,55,7],[50,19,55,7,"api"],[50,22,55,7],[50,23,55,8,"setToken"],[50,31,55,16],[50,32,55,17,"response"],[50,40,55,25],[50,41,55,26,"token"],[50,46,55,31],[50,47,55,32],[51,6,56,4],[51,12,56,10,"userData"],[51,20,56,18],[51,23,56,21],[51,29,56,27,"api"],[51,41,56,30],[51,42,56,30,"api"],[51,45,56,30],[51,46,56,31,"getMe"],[51,51,56,36],[51,52,56,37],[51,53,56,38],[52,6,57,4,"setUser"],[52,13,57,11],[52,14,57,12,"userData"],[52,22,57,20],[52,23,57,21],[53,4,58,2],[53,5,58,3],[54,4,60,2],[54,10,60,8,"register"],[54,18,60,16],[54,21,60,19],[54,27,60,19,"register"],[54,28,60,26,"phone"],[54,33,60,39],[54,35,60,41,"password"],[54,43,60,57],[54,48,60,62],[55,6,61,4],[55,12,61,10,"response"],[55,20,61,18],[55,23,61,21],[55,29,61,27,"api"],[55,41,61,30],[55,42,61,30,"api"],[55,45,61,30],[55,46,61,31,"register"],[55,54,61,39],[55,55,61,40,"phone"],[55,60,61,45],[55,62,61,47,"password"],[55,70,61,55],[55,71,61,56],[56,6,62,4],[56,12,62,10,"AsyncStorage"],[56,24,62,22],[56,25,62,22,"default"],[56,32,62,22],[56,33,62,23,"setItem"],[56,40,62,30],[56,41,62,31],[56,48,62,38],[56,50,62,40,"response"],[56,58,62,48],[56,59,62,49,"token"],[56,64,62,54],[56,65,62,55],[57,6,63,4,"setToken"],[57,14,63,12],[57,15,63,13,"response"],[57,23,63,21],[57,24,63,22,"token"],[57,29,63,27],[57,30,63,28],[58,6,64,4,"api"],[58,18,64,7],[58,19,64,7,"api"],[58,22,64,7],[58,23,64,8,"setToken"],[58,31,64,16],[58,32,64,17,"response"],[58,40,64,25],[58,41,64,26,"token"],[58,46,64,31],[58,47,64,32],[59,6,65,4],[59,12,65,10,"userData"],[59,20,65,18],[59,23,65,21],[59,29,65,27,"api"],[59,41,65,30],[59,42,65,30,"api"],[59,45,65,30],[59,46,65,31,"getMe"],[59,51,65,36],[59,52,65,37],[59,53,65,38],[60,6,66,4,"setUser"],[60,13,66,11],[60,14,66,12,"userData"],[60,22,66,20],[60,23,66,21],[61,4,67,2],[61,5,67,3],[62,4,69,2],[62,10,69,8,"logout"],[62,16,69,14],[62,19,69,17],[62,25,69,17,"logout"],[62,26,69,17],[62,31,69,29],[63,6,70,4],[63,12,70,10,"AsyncStorage"],[63,24,70,22],[63,25,70,22,"default"],[63,32,70,22],[63,33,70,23,"removeItem"],[63,43,70,33],[63,44,70,34],[63,51,70,41],[63,52,70,42],[64,6,71,4,"setToken"],[64,14,71,12],[64,15,71,13],[64,19,71,17],[64,20,71,18],[65,6,72,4,"setUser"],[65,13,72,11],[65,14,72,12],[65,18,72,16],[65,19,72,17],[66,6,73,4,"api"],[66,18,73,7],[66,19,73,7,"api"],[66,22,73,7],[66,23,73,8,"setToken"],[66,31,73,16],[66,32,73,17],[66,36,73,21],[66,37,73,22],[67,4,74,2],[67,5,74,3],[68,4,76,2],[68,10,76,8,"refreshUser"],[68,21,76,19],[68,24,76,22],[68,30,76,22,"refreshUser"],[68,31,76,22],[68,36,76,34],[69,6,77,4],[69,10,77,8,"token"],[69,15,77,13],[69,17,77,15],[70,8,78,6],[70,14,78,12,"userData"],[70,22,78,20],[70,25,78,23],[70,31,78,29,"api"],[70,43,78,32],[70,44,78,32,"api"],[70,47,78,32],[70,48,78,33,"getMe"],[70,53,78,38],[70,54,78,39],[70,55,78,40],[71,8,79,6,"setUser"],[71,15,79,13],[71,16,79,14,"userData"],[71,24,79,22],[71,25,79,23],[72,6,80,4],[73,4,81,2],[73,5,81,3],[74,4,83,2],[74,24,84,4],[74,28,84,4,"_reactJsxDevRuntime"],[74,47,84,4],[74,48,84,4,"jsxDEV"],[74,54,84,4],[74,56,84,5,"AuthContext"],[74,67,84,16],[74,68,84,17,"Provider"],[74,76,84,25],[75,6,84,26,"value"],[75,11,84,31],[75,13,84,33],[76,8,84,35,"user"],[76,12,84,39],[77,8,84,41,"token"],[77,13,84,46],[78,8,84,48,"isLoading"],[78,17,84,57],[79,8,84,59,"login"],[79,13,84,64],[80,8,84,66,"register"],[80,16,84,74],[81,8,84,76,"logout"],[81,14,84,82],[82,8,84,84,"refreshUser"],[83,6,84,96],[83,7,84,98],[84,6,84,98,"children"],[84,14,84,98],[84,16,85,7,"children"],[85,4,85,15],[86,6,85,15,"fileName"],[86,14,85,15],[86,16,85,15,"_jsxFileName"],[86,28,85,15],[87,6,85,15,"lineNumber"],[87,16,85,15],[88,6,85,15,"columnNumber"],[88,18,85,15],[89,4,85,15],[89,11,86,26],[89,12,86,27],[90,2,88,0],[91,2,90,7],[91,11,90,16,"useAuth"],[91,18,90,23,"useAuth"],[91,19,90,23],[91,21,90,26],[92,4,91,2],[92,10,91,8,"context"],[92,17,91,15],[92,20,91,18],[92,24,91,18,"useContext"],[92,30,91,28],[92,31,91,28,"useContext"],[92,41,91,28],[92,43,91,29,"AuthContext"],[92,54,91,40],[92,55,91,41],[93,4,92,2],[93,8,92,6],[93,9,92,7,"context"],[93,16,92,14],[93,18,92,16],[94,6,93,4],[94,12,93,10],[94,16,93,14,"Error"],[94,21,93,19],[94,22,93,20],[94,67,93,65],[94,68,93,66],[95,4,94,2],[96,4,95,2],[96,11,95,9,"context"],[96,18,95,16],[97,2,96,0],[98,0,96,1],[98,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","refreshUser","useAuth"],"mappings":"AAA;OCwB;YCK;GDE;yBEE;GFe;gBGE;GHO;mBIE;GJO;iBKE;GLK;sBME;GNK;CDO;OQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}